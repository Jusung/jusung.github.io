---
layout: post
title: "[Swift] ì»¤ë§(Currying)ì´ë€?"
category: 
  - Swift
tags: 
  - Functional Programming
comments: true
published: true
---

í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì„ í•˜ë‹¤ë³´ë©´ ì»¤ë§(Currying)ì´ë¼ëŠ” ë§ì„ ì¢…ì¢… ë“¤ì–´ë³´ì…¨ì„ ê²ë‹ˆë‹¤.
ì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ” ì´ ì»¤ë§ì— ëŒ€í•´ ì•Œì•„ ë³´ê² ìŠµë‹ˆë‹¤. í¬ìŠ¤íŠ¸ê°€ ì œë²• ê¹ë‹ˆë‹¤. ğŸ˜… 

ê°„ë‹¨íˆ ì•Œê³  ë„˜ì–´ê°€ì‹¤ ë¶„ì€ TL;DRë§Œ ì½ìœ¼ì…”ë„ ë©ë‹ˆë‹¤.

## TL;DR

- ì»¤ë§: ì—¬ëŸ¬ ì¸ìë¥¼ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì¸ì í•˜ë‚˜ë§Œ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜ë¡œ ë³€í™˜í•˜ëŠ” ê²ƒ
- ì»¤ë§ì˜ ì¥ì 
	1. í•¨ìˆ˜ì˜ ì¬ì‚¬ìš©ì„± í–¥ìƒ
	2. ì½”ë“œì˜ ê°€ë…ì„± í–¥ìƒ

---

## ì´ë¦„ì˜ ìœ ë˜

ì»¤ë§ì´ë¼ëŠ” ì´ë¦„ì€ ìˆ˜í•™ìì´ì ë…¼ë¦¬í•™ìì¸ í•˜ìŠ¤ì¼ˆ ì»¤ë¦¬([Haskell Brooks Curry](https://en.wikipedia.org/wiki/Haskell_Curry))ë¡œ ë¶€í„° ìœ ë˜ ëìŠµë‹ˆë‹¤. 

ë„¤ ë§ìŠµë‹ˆë‹¤. í•˜ìŠ¤ì¼ˆ ì–¸ì–´ë„ ì´ ì‚¬ëŒì˜ ì´ë¦„ì—ì„œ ê°€ì ¸ì˜¨ ê²ƒì…ë‹ˆë‹¤.

![HaskellBCurry]({{ site.baseurl }}/images/2019/HaskellBCurry.jpg)

---

## ì»¤ë§ì´ë€?

í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì—ì„œ ì»¤ë§ì´ë€ 

**ì—¬ëŸ¬ ì¸ìë¥¼ ì…ë ¥ë°›ëŠ” í•¨ìˆ˜ë¥¼ ì¸ì í•˜ë‚˜ë§Œ ì…ë ¥ë°›ëŠ” í•¨ìˆ˜ë“¤ì˜ ì‹œí€€ìŠ¤ë¡œ ë³€í™˜í•˜ëŠ” ê²ƒ**ì…ë‹ˆë‹¤.

ë³€í™˜ëœ í•¨ìˆ˜ëŠ” ì¸ì í•˜ë‚˜ë¥¼ ì…ë ¥ë°›ê³  **ê°’ ëŒ€ì‹  í•¨ìˆ˜ë¥¼ ë°˜í™˜**í•˜ëŠ”ë°, ì´ ë°˜í™˜ë˜ëŠ” í•¨ìˆ˜ëŠ” ë‹¤ìŒ ì¸ìë¥¼ ì…ë ¥ìœ¼ë¡œ ë°›ìŠµë‹ˆë‹¤. ì´ ê³¼ì •ì„ ì…ë ¥ ê°’ì„ ëª¨ë‘ ì²˜ë¦¬í•˜ê³  ë°˜í™˜í•˜ëŠ” ê°’ì´ í•˜ë‚˜ë§Œ ë‚¨ì„ ë•Œê¹Œì§€ ë°˜ë³µë©ë‹ˆë‹¤.

ì¡°ê¸ˆ ë³µì¡í•´ ë³´ì´ëŠ”ë° ë‹¤ìŒ ê·¸ë¦¼ì„ ë³´ì‹œë©´ ë¬´ìŠ¨ ëœ»ì¸ì§€ ì¡°ê¸ˆ ê°ì´ ì¡íˆì‹¤ ê²ƒì…ë‹ˆë‹¤.

![Currying]({{ site.baseurl }}/images/2019/Currying.png)
*ì¼ë°˜ í•¨ìˆ˜ë¥¼ ì»¤ë§ì„ ì´ìš©í•œ í•¨ìˆ˜ë¡œ ë³€í™˜*
{: style="text-align: center;"}

ìœ„ ê·¸ë¦¼ì´ ì–´ë–¤ ì˜ë¯¸ì¸ì§€ ì˜ˆì œë¥¼ í†µí•´ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.

ë‹¤ìŒì€ ì…ë ¥ ë°›ì€ ë‘ ê°’ì„ ë”í•´ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ ì…ë‹ˆë‹¤.

```swift
func add2(_ x: Int, _ y: Int) -> Int {
    return x + y
}
add2(1, 2) // ê²°ê³¼: 3
```

ìœ„ í•¨ìˆ˜ë¥¼ ì»¤ë§í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ë³€í™˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```swift
func add2Currying(_ x: Int) -> ((Int) -> Int) {
    return { y in
        return x + y
    }
}
add2Currying(1)(2) // ê²°ê³¼: 3
```

ë‘ í•¨ìˆ˜ ëª¨ë‘ ê°™ì€ ì…ë ¥ì— ëŒ€í•´ ê°™ì€ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ì œ ì»¤ë§ì„ ì‚¬ìš©í•œ í•¨ìˆ˜ì™€ ì‚¬ìš©í•˜ì§€ ì•Šì€ í•¨ìˆ˜ë¥¼ ë¹„êµí•´ ì„¸ë¶€ì ìœ¼ë¡œ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.

### ë°˜í™˜ê°’
* ì»¤ë§ ë¯¸ì‚¬ìš©

```swift
func add2(_ x: Int, _ y: Int) -> Int
```

`x, y`ë¥¼ ì…ë ¥ ë°›ì•„ `Int` **ê°’ì„ ë°˜í™˜**í•©ë‹ˆë‹¤.

* ì»¤ë§ ì‚¬ìš©

```swift
func add2Currying(_ x: Int) -> ((Int) -> Int)
```

`x`ë¥¼ ì…ë ¥ ë°›ê³  `((Int) -> Int)`  ê³¼ ê°™ì´ `Int`ë¥¼ ì…ë ¥ë°›ì•„ `Int`ë¥¼ ë°˜í™˜í•˜ëŠ” **í•¨ìˆ˜ë¥¼ ë°˜í™˜**í•©ë‹ˆë‹¤.

### êµ¬í˜„

* ì»¤ë§ ë¯¸ì‚¬ìš©

```swift
return x + y
``` 

ì…ë ¥ë°›ì€ **ê°’ì„ ë°”ë¡œ ë”í•´ ë°˜í™˜** í•©ë‹ˆë‹¤.

* ì»¤ë§ ì‚¬ìš©

```swift 
return { y in return x + y }
``` 

`return x + y`ë¥¼ í´ë¡œì €ë¡œ ê°ì‹¸ì„œ `y`ê°€ ì…ë ¥ë˜ë©´ ì´ë¯¸ ì…ë ¥ë°›ì€ ê°’ `x`ì— `y`ë¥¼ ë”í•œ ê°’ì„ ë°˜í™˜í•©ë‹ˆë‹¤. `y`ê°€ ì…ë ¥ë˜ê¸° ì „ì—ëŠ” `x`ê°’ë§Œ ë“¤ê³  ìˆë‹¤ê°€ `y`ê°€ ì…ë ¥ë˜ëŠ” ìˆœê°„ ê°’ì„ ê³„ì‚°í•´ ë°˜í™˜í•©ë‹ˆë‹¤.

### ì‚¬ìš©

* ì»¤ë§ ë¯¸ì‚¬ìš©

```swift
add2(1, 2)
```

ì¸ìë¥¼ ì½¤ë§ˆë¡œ êµ¬ë¶„í•´ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤. í•¨ìˆ˜ë¥¼ í•œê°œ ì‹¤í–‰í•˜ê¸° ë•Œë¬¸ì— ì—¬ë‹«ëŠ” ê´„í˜¸ê°€ í•œë²ˆ ë¿ì…ë‹ˆë‹¤.

* ì»¤ë§ ì‚¬ìš©

```swift 
add2Currying(1)(2)
```

ê´„í˜¸ë¥¼ ë¶„ë¦¬í•´ ë‘ë²ˆ ë‚˜ëˆ ì„œ ì‹¤í–‰í•©ë‹ˆë‹¤. ê´„í˜¸ê°€ ë‘ê°œì¸ ì´ìœ ëŠ” **í•¨ìˆ˜ë¥¼ ë‘ë²ˆ í˜¸ì¶œ**í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

ê·¸ëŸ¼ì´ì œ ì•ì„œ ì„¤ëª…ë“œë¦° ì„¸ê°€ì§€ë¥¼ ì¢…í•©í•´ì„œ ì»¤ë§í•¨ìˆ˜ê°€ ë™ì‘í•˜ëŠ” ë°©ì‹ì„ ì„¤ëª…ë“œë¦¬ê² ìŠµë‹ˆë‹¤.

```swift
func add2Currying(_ x: Int) -> ((Int) -> Int) {
    return { y in return x + y } 
}
```

ìœ„ í•¨ìˆ˜ëŠ” ì•ì—ì„œ `add2Currying(1)(2)`ì˜ í˜•íƒœë¡œ í˜¸ì¶œí–ˆëŠ”ë°
ì´ í•¨ìˆ˜ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```swift
let threePlus = add2Currying(3)
threePlus(5) // ê²°ê³¼ 8
```

ì—¬ê¸°ì„œ `threePlus`ëŠ” **ê°’ì´ ì•„ë‹ˆë¼ í•¨ìˆ˜** ì…ë‹ˆë‹¤.
ì–´ë–¤ í•¨ìˆ˜ëƒêµ¬ìš”? `Int`ê°’ í•˜ë‚˜ë¥¼ ì…ë ¥ ë°›ì•„ì„œ, `3`ì—ë‹¤ê°€ ì…ë ¥ë°›ì€ `Int`ê°’ì„ ë”í•´ì„œ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤. 

ë°”ë¡œ ì´ëŸ° í•¨ìˆ˜ì…ë‹ˆë‹¤.

```swift
{ y in return 3 + y }
```

ì´í•´ê°€ ë˜ì‹œë‚˜ìš”? ê·¸ë ‡ë‹¤ë©´ ì¡°ê¸ˆ ë” ë³µì¡í•œ ì¼€ì´ìŠ¤ë¥¼ ë‹¤ë¤„ë³´ë©´ì„œ ì œëŒ€ë¡œ ì´í•´í–ˆëŠ”ì§€ í•œë²ˆ ë” í™•ì¸í•´ ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

ì´ë²ˆì—ëŠ” ì¸ì 3ê°œë¥¼ ì…ë ¥ë°›ê³  ì´ ê°’ì„ ëª¨ë‘ ë”í•´ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ë³´ê² ìŠµë‹ˆë‹¤.
ìš°ì„ , ì»¤ë§ì„ ì‚¬ìš©í•˜ì§€ ì•Šì€ ì¼ë°˜ì ì¸ í•¨ìˆ˜ì…ë‹ˆë‹¤.

```swift
func add3(_ x: Int, _ y: Int, _ z: Int) -> Int {
    return x + y + z
}
add3(1, 2, 3) // ê²°ê³¼ : 6
```

ìœ„ í•¨ìˆ˜ë¥¼ ì»¤ë§ì„ ì‚¬ìš©í•´ êµ¬í˜„í•˜ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```swift
func add3Currying(_ x: Int) -> (Int) -> ((Int) -> Int) {
    return { z in
        return { y in
            return x + y + z
        }
    }
}
add3Currying(1)(2)(3) // ê²°ê³¼ : 6
```

`add3Currying(_ x: Int) -> (Int) -> ((Int) -> Int)`ì—ì„œ


**ì²«ë²ˆì§¸ í•¨ìˆ˜**ëŠ” 

`(_ x: Int)` ì´ ì…ë ¥ê°’ì´ê³  ë°˜í™˜ê°’ì€ `Int -> ((Int) -> Int)` ì…ë‹ˆë‹¤.


**ë‘ë²ˆì§¸ í•¨ìˆ˜**ëŠ” 

`(Int)`ì´ ì…ë ¥ê°’ì´ê³  ë°˜í™˜ê°’ì€ `(Int) -> Int` ì…ë‹ˆë‹¤.


**ì„¸ë²ˆì§¸ í•¨ìˆ˜**ëŠ”

`Int`ê°€ ì…ë ¥ê°’ì´ê³  `Int`ê°€ ë°˜í™˜ê°’ ì…ë‹ˆë‹¤.


ê° í•¨ìˆ˜ë¥¼ í•¨ìˆ˜ë³„ë¡œ ìª¼ê°œ ë³´ê² ìŠµë‹ˆë‹¤.

```swift
func add3Currying(_ x: Int) -> (Int) -> ((Int) -> Int) {
    return { z in
        return { y in
            return x + y + z
        }
    }
}
```

```swift
let onePlus = add3Currying(1)
let threePlus = onePlus(2)
let result = threePlus(3)
```

`onePlus`ëŠ”  ë‹¤ìŒê³¼ ê°™ì€ í•¨ìˆ˜ì…ë‹ˆë‹¤.

```swift
    return { z in
        return { y in
            return 1 + y + z
        }
    }
```

`threePlus`ëŠ” ë‹¤ìŒê³¼ ê°™ì€ í•¨ìˆ˜ì…ë‹ˆë‹¤.

```swift
    return { z in
        return 1 + 2 + z
    }
```

`result`ëŠ” ë‹¤ìŒì˜ ê²°ê³¼ ê°’ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

```swift
return 1 + 2 + 3
```

ì´ì œ ì¢€ ê°ì´ ì˜¤ì‹œë‚˜ìš”?

ê·¸ëŸ¼ ì´ì œ ì´ ì»¤ë§ì„ `Generic`ì„ ì‚¬ìš©í•´ ì¼ë°˜í™” ëœ í•¨ìˆ˜ë¡œ ì •ì˜í•´ ë³´ê² ìŠµë‹ˆë‹¤.

```swift
func curry<A, B, C>(_ fn: @escaping (A, B) -> C) -> (A) -> (B) -> C {
        return { (a: A) in
            return { (b: B) in
                return fn(a, b)
            }
        }
    }
```

ì»¤ë§ í•¨ìˆ˜ëŠ” í•¨ìˆ˜(fn)ë¥¼ ì¸ìë¡œ ë°›ëŠ”ë° ì´ í•¨ìˆ˜ëŠ” 

`(a: A) -> (B) -> C`ì™€ ê°™ì´

 `(a: A)`ë¥¼ ì¸ìë¡œ ì…ë ¥ë°›ê³  `(B)`ë¥¼ ì…ë ¥ìœ¼ë¡œ ë°›ê³  `C`ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
 
ê·¸ë¦¬ê³  ê·¸ ë°˜í™˜ëœ í•¨ìˆ˜ëŠ”

`(b: B) -> C`ì™€ ê°™ì´

`(b: B)`ë¥¼ ì¸ìë¡œ ì…ë ¥ë°›ê³  `C`ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

ê·¸ë¦¬ê³  ê·¸ ë°˜í™˜ëœ í•¨ìˆ˜ëŠ”

ì…ë ¥ë°›ì€ `a`ì™€ `b`ë¡œ `fn(a, b)`ë¥¼ ìˆ˜í–‰í•œ ê°’ì„ ë°˜í™˜í•˜ê²Œ ë©ë‹ˆë‹¤.

## í™œ ìš©
ì»¤ë§ì„ ì‚¬ìš©í•˜ë©´ í•¨ìˆ˜ë¥¼ ì¬ì‚¬ìš©í•˜ëŠ”ë° ìœ ìš©í•©ë‹ˆë‹¤. 

í•¨ìˆ˜ê°€ ì—¬ëŸ¬ ë‹¨ê³„ë¥¼ ê±°ì³ ì‹¤í–‰ë˜ê³  ì¬ì‚¬ìš©ë ë•Œ ë§ˆì§€ë§‰ ë‹¨ê³„ì—ì„œ ë³€í™”ê°€ ìˆëŠ” ê²½ìš°, ì»¤ë§ì„ ì‚¬ìš©í•˜ë©´ ì•ì˜ ë‹¨ê³„ëŠ” ê³ ì •ì‹œì¼œ ë†“ê³  ê°€ì¥ ë§ˆì§€ë§‰ ë‹¨ê³„ë§Œ ë³€ê²½í•  ìˆ˜ ìˆì–´ íš¨ê³¼ì ì…ë‹ˆë‹¤. 

ì˜ˆì œë¥¼ ë³´ë©° ì¢€ ë” ìì„¸íˆ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.

```swift
enum LogLevel: String {
   case debug
   case error
}
func logMessage(level: LogLevel, message: String) {
   print("[\(level)] \(message)")
}
```

ìœ„ ì½”ë“œëŠ” ë¡œê·¸ë¥¼ ì¶œë ¥í•˜ëŠ” í•¨ìˆ˜ ì…ë‹ˆë‹¤. `logMessage` í•¨ìˆ˜ì— ë¡œê·¸ `level`ê³¼ ë¡œê·¸`message`ë¥¼ ë„£ìœ¼ë©´ ë¡œê·¸ê°€ ì¶œë ¥ë©ë‹ˆë‹¤.

ì»¤ë§ì„ ì‚¬ìš©í•˜ì§€ ì•Šì€ ì¼ë°˜ì ì¸ ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

```swift
logMessage(level: .debug, message: "Log debug - Normal")
```

ë¡œê·¸ë¥¼ ì¶œë ¥í•˜ëŠ”ë° ë¡œê·¸ë ˆë²¨ì€ ë³€í•¨ì´ ì—†ê³  ë©”ì‹œì§€ë§Œ ë³€í•˜ê²Œ ë˜ëŠ” ê²½ìš° ì–´ë–»ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆì„ê¹Œìš”? 

í•¨ìˆ˜ì— `Default` íŒŒë¼ë¯¸í„°ë¥¼ ì§€ì •í•  ìˆ˜ë„ ìˆì§€ë§Œ, ê·¸ ê²½ìš°ëŠ”  `Default` íŒŒë¼ë¯¸í„°ë¡œ ì§€ì •ëœ ê°’ë§Œ ìƒëµ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— ì ì ˆí•œ í•´ë²•ì´ ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

ì´ëŸ´ë•Œ ì»¤ë§ì„ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```swift
logMessage(level: .debug, message: "Log debug 1st")
logMessage(level: .debug, message: "Log debug 2nd")
logMessage(level: .debug, message: "Log debug 3rd")
```

ìœ„ ì½”ë“œëŒ€ì‹  ì»¤ë§ì„ ì‚¬ìš©í•´

```swift
let logCurried = curry(logMessage)
let debug = logCurried(.debug)

debug("Log debug 1st")
debug("Log debug 2nd")
debug("Log debug 3rd")
```

`debug("Message")` ì²˜ëŸ¼ **ë³€í•˜ëŠ” ê°’ë§Œ ì¸ìë¡œ ë„£ì–´ ì‚¬ìš©**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë˜ ë‹¤ë¥¸ ì˜ˆë¥¼ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.

```swift
// Without Currying
let fruits: [String] = ["Apple", "Banana", "Peach", "Grape"]
        
fruits.forEach { fruit in
   logMessage(level: .debug, message: fruit)
}
        
fruits.forEach { fruit in
   logMessage(level: .error, message: fruit)
}
```

ìœ„ ì½”ë“œë¥¼ ì»¤ë§ì„ ì‚¬ìš©í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```swift
// with Currying
let debug = curry(logMessage)(.debug)
let error = curry(logMessage)(.error)        
fruits.forEach(debug1)
fruits.forEach(error1)
```

---

## ì»¤ë§ì˜ ì¥ì 

ì§€ê¸ˆê¹Œì§€ ì‚´í´ë³¸ ì˜ˆì œ ì½”ë“œë¥¼ í†µí•´ ì»¤ë§ ì‚¬ìš©ì˜ ì¥ì  ë‘ ê°€ì§€ë¥¼ ì•Œ ìˆ˜ìˆìŠµë‹ˆë‹¤.
1. í•¨ìˆ˜ì˜ ì¬ì‚¬ìš©ì„ ì‰½ê²Œ ë§Œë“¤ì–´ ì¤Œ (ì¸ì ì¤‘ ë³€í•˜ì§€ ì•ŠëŠ” ê°’ì€ ê³ ì •ì‹œí‚¤ê³  ë³€í•˜ëŠ” ê°’ë§Œ ì§€ì •í•´ì„œ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ í•´ì¤Œ)

2. ê°€ë…ì„±ì„ ë†’ì—¬ì¤Œ

---

## RxSwiftì—ì„œ ì‘ìš©

`Observable`ì— ë‹¤ìŒê³¼ ê°™ì€ `extension`ì½”ë“œë¥¼ ì‘ì„± í›„, `completion` ë¸”ëŸ­ì„ ì‚¬ìš©í•˜ëŠ” ë¹„ë™ê¸° ì½”ë“œë¥¼ `Observable` ì‹œí€€ìŠ¤ì— **ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ì»¤ë§ì„ ì‚¬ìš©í•´ ì‰½ê²Œ í•  ìˆ˜** ìˆìŠµë‹ˆë‹¤.

```swift
extension Observable {
    public static func fromAsync(_ asyncRequest: @escaping (@escaping (Element?, Error?) -> Void) -> Void) -> Observable<Element> {
        return Observable.create { (o) -> Disposable in
            asyncRequest { res, error in
                if let err = error {
                    o.onError(err)
                    return
                }
                guard let element = res else {
                    o.onCompleted()
                    return
                }
                o.onNext(element)
                o.onCompleted()
            }
            return Disposables.create {}
        }
    }
    
    public static func fromAsync<T>(_ asyncRequest: @escaping (T, @escaping (Element?, Error?) -> Void) -> Void) -> (T) -> Observable<Element> {
        return { param1 in Observable.fromAsync(curry(asyncRequest)(param1)) }
    }
}
```

```swift
let fetchPostObservable = Observable.fromAsync(PostService.fetchPosts(by:completion:))
        fetchPostObservable(10)
            .subscribe(onNext: { post in
                print("Fetching post with id:\(post.id) succeeded")
            }, onError: { error in
                print("Fetching post failed: \(error)")
            })
            .disposed(by: disposeBag)

struct Post {
    let id: Int
}

class PostService {
    static func fetchPosts(by postId: Int, completion: @escaping (Post?, Error?) -> Void ) {
        print("fetchPosts Closure")
        // postëŠ” APIë¥¼ í†µí•´ ìˆ˜ì‹ í•œ ê°ì²´
        let post = Post(id: postId)
        completion(post, nil)
    }
}
```

```swift
let fetchPostObservable = Observable.fromAsync(PostService.fetchPosts(by:completion:))
```

ì´ì™€ ê°™ì´ ê¸°ì¡´ì— `completion block`ì„ ì‚¬ìš©í•˜ë˜ ì½”ë“œë¥¼ `Observable` ì‹œí€€ìŠ¤ì— ê°„ë‹¨í•˜ê²Œ ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹œí‚¨ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ìƒìœ¼ë¡œ ì»¤ë§ì— ëŒ€í•´ ì•Œì•„ë´¤ìŠµë‹ˆë‹¤. ğŸ˜„

**[ì°¸ ê³ ]**

- [Function Currying in Swift](https://jamesonquave.com/blog/function-currying-in-swift/)

- [Functional Swift â€” Currying - nuglif - Medium](https://medium.com/nuglif/functional-swift-currying-d398a73bf1ed)

- [Introduction to Function Currying in Swift](https://thoughtbot.com/blog/introduction-to-function-currying-in-swift)

- [Curry í•´ì„œ ì–´ë””ë‹¤ ì”ë‹ˆê¹Œ?](https://iamchiwon.github.io/2018/03/21/why-curry/)

-  [Functional Swift: Curry Function](https://medium.com/swift-india/functional-swift-curry-function-4d26190139ed)
